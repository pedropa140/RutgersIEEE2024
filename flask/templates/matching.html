<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Welcome to DRC Hack - Empowering Innovation">
    <link rel="stylesheet" href="../static/styles.css">
    <title>DRC Hack - Matchmaking</title>
</head>
<body>
    <header>
        {% include 'navbar.html' %}
    </header>

    <div class="profile-container">
        <h2>User Profile</h2>
        <p>Name: <span id="name"></span></p>
        <p>Email: <span id="email"></span></p>
        <p>Occupation: <span id="occupation"></span></p>
        <p>Description: <span id="description"></span></p>
        <!-- Add more profile information as needed -->

        <div class="match-buttons">
            <button id="yes-button">Yes</button>
            <button id="no-button">No</button>
        </div>
    </div>

    <script>
        var profiles = {{ profiles|tojson }};
        var currentProfileIndex = 0;

        function displayProfile(index) {
            var profile = profiles[index];
            document.getElementById('name').textContent = profile.name;
            document.getElementById('email').textContent = profile.email;
            document.getElementById('occupation').textContent = profile.occupation;
            document.getElementById('description').textContent = profile.description;
        }

        document.addEventListener('DOMContentLoaded', function() {
            displayProfile(currentProfileIndex);

            document.getElementById('yes-button').addEventListener('click', function() {
                // Handle matching logic when user clicks Yes
                // Send AJAX request to backend to store the match
                // Display the email of the matched user if successful
                var matchedEmail = profiles[currentProfileIndex].email;
                alert('Matched with: ' + matchedEmail);
            });

            document.getElementById('no-button').addEventListener('click', function() {
                // Handle logic when user clicks No
                // Display the next user profile
                currentProfileIndex++;
                if (currentProfileIndex < profiles.length) {
                    displayProfile(currentProfileIndex);
                } else {
                    alert('No more profiles');
                }
            });
        });
    </script>
</body>
</html>
